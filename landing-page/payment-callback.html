<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Payment - Account</title>
    <link href="styles/style.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="./assets/images/logo-small.png" />
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script>
      $(document).ready(async () => {
        const payment = await fetch(
          "https://auto-translate.com/api/payment/status",
          {
            method: "GET",
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${localStorage.getItem("token")}`,
            },
          },
        );

        const paymentData = await payment.json();

        if (paymentData.data.length > 0) {
          $("#status-loading").hide();
          $("#status-success").show();
        } else {
          $("#status-loading").hide();
          $("#status-error").show();
        }
      });
    </script>
  </head>

  <body>
    <!-- Header Section -->
    <div class="header">
      <a href="/index.html" class="logo-container">
        <div class="logo"></div>
        <div class="name">Auto Translate</div>
      </a>
      <div class="menu"></div>
    </div>

    <div class="status" id="status-loading">
      <div class="status-icon">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="#000000"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path d="M21 12a9 9 0 11-6.219-8.56"></path>
          </g>
        </svg>
      </div>
      <div class="status-text">Loading...</div>
    </div>

    <div class="status" id="status-success">
      <div class="status-icon">
        <svg
          fill="#ffffff"
          viewBox="0 0 1920 1920"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path
              d="M1827.701 303.065 698.835 1431.801 92.299 825.266 0 917.564 698.835 1616.4 1919.869 395.234z"
              fill-rule="evenodd"
            ></path>
          </g>
        </svg>
      </div>
      <div class="status-text">
        Payment successful, <br />
        go to your <a href="account">Account</a>
      </div>
    </div>
    <div class="status" id="status-error">
      <div class="status-icon">
        <svg
          fill="#ffffff"
          viewBox="0 0 16 16"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path
              d="M0 14.545L1.455 16 8 9.455 14.545 16 16 14.545 9.455 8 16 1.455 14.545 0 8 6.545 1.455 0 0 1.455 6.545 8z"
              fill-rule="evenodd"
            ></path>
          </g>
        </svg>
      </div>
      <div class="status-text">
        Payment failed, <br />
        go back to <a href="pricing.html">Pricing</a>
      </div>
    </div>
  </body>
</html>
