<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Account - Auto Translate</title>
    <link href="../styles/style.css" rel="stylesheet" />
    <link href="./account.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="../assets/images/logo-small.png" />
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script src="account.js"></script>
  </head>

  <body>
    <!-- Header Section -->
    <div class="header">
      <a href="#" class="logo-container">
        <div class="logo"></div>
        <div class="name">Auto Translate</div>
      </a>
      <div class="menu"></div>
    </div>

    <div class="container">
      <div class="header">
        <div class="title">Your Account</div>
      </div>

      <div class="tabs-container">
        <div class="tabs-container">
          <div class="tab active" data-tab="api-keys">API Keys</div>
          <div class="tab" data-tab="profile">Profile</div>
          <div class="tab" data-tab="usage">Usage and Subscription</div>
        </div>
      </div>

      <div class="tab-content active" id="api-keys">
        <button
          id="create-api-key-button"
          class="create-button"
          onclick="prepareKeyCreation()"
        >
          + Create new API key
        </button>
        <table id="api-keys-table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Last Used</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <!-- API keys will be dynamically inserted here -->
          </tbody>
        </table>
      </div>

      <div class="tab-content" id="profile">
        <h2>Profile</h2>
        <p>Profile content goes here...</p>
      </div>

      <div class="tab-content" id="usage">
        <div class="status" id="status-loading">
          <div class="status-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
              stroke="#000000"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <path d="M21 12a9 9 0 11-6.219-8.56"></path>
              </g>
            </svg>
          </div>
      </div>
    </div>

    <dialog id="create-key-dialog">
      <form>
        <div class="form-container">
          <div class="dialog-title">Create New API Key</div>
          <label for="key-name">Name</label>
          <input type="text" id="key-name" placeholder="Enter API key name" />
          <div class="button-container">
            <button value="cancel" formmethod="dialog" class="cancel-button">
              Cancel
            </button>
            <button class="submit-button" id="create-key-submit">Submit</button>
          </div>
        </div>
      </form>
    </dialog>
    <dialog id="copy-key-dialog">
      <form>
        <div class="form-container">
          <div class="dialog-title">Save your API Key</div>
          <div class="dialog-body">
            Please save this secret key somewhere safe and accessible. For
            security reasons, you won't be able to view it again through your
            Auto Translate account. If you lose this secret key, you'll need to
            generate a new one.
          </div>
          <div class="copy-key-container">
            <input type="text" id="key-value" />
            <button class="submit-button" id="copy-key-button">Copy</button>
          </div>
          <div class="button-container">
            <button value="cancel" formmethod="dialog" class="cancel-button">
              Done
            </button>
          </div>
        </div>
      </form>
    </dialog>
    <dialog id="delete-key-dialog">
      <form>
        <div class="form-container">
          <div class="dialog-title">Delete API Key</div>
          <div class="dialog-body">
            Are you sure you want to delete this API key?
          </div>
          <div class="button-container">
            <button value="cancel" formmethod="dialog" class="cancel-button">
              Cancel
            </button>
            <button
              class="delete-button"
              value="default"
              id="delete-key-button"
            >
              Delete
            </button>
          </div>
        </div>
      </form>
    </dialog>
  </body>
</html>
